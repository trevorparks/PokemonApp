{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luce\\\\Documents\\\\PokemonApp\\\\my-app\\\\src\\\\components\\\\SearchPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport getResponse from '../functions/getResponse.js';\nimport { useQuery } from 'react-query';\nimport { useSearchContext } from '../context/SearchContext.jsx';\nimport { useFavoritesContext } from '../context/FavoritesContext.jsx';\nimport ResponseDisplay from \"../components/ResponseDisplay.jsx\";\n\n// const baseUrl = \"https://api.giphy.com/v1/gifs/search?api_key=${process.env.GIPHY_API_KEY}&limit=25\";\n// const url = \"https://api.giphy.com/v1/gifs/search?api_key=QLjcxO7Hoya1ek7UtqSc0FH0wabj5zVD&q=&limit=25&offset=0&rating=g&lang=en\"\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  // This hook uses state management AND hooks\n  const [searchType, setSearchType] = useState('pokemon/');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [url, setUrl] = useState(null);\n  const {\n    searchResults,\n    setSearchResults\n  } = useSearchContext();\n  const {\n    favorites,\n    addFavorite,\n    removeFavorite\n  } = useFavoritesContext();\n  const baseUrl = `https://pokeapi.co/api/v2/`;\n  useEffect(() => {\n    console.log(url);\n  }, [url]);\n  const {\n    isLoading,\n    error,\n    isSuccess\n  } = useQuery([\"getResponse\", url], () => getResponse(url), {\n    enabled: !!url,\n    onSuccess: data => setSearchResults(data)\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Search Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Search for Everything Pokemon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        \"data-testid\": \"searchType\",\n        value: searchType,\n        onChange: e => setSearchType(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"pokemon/\",\n          children: \"Pokemon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"type/\",\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"ability/\",\n          children: \"Ability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"item/\",\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"move/\",\n          children: \"Moves\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"location/\",\n          children: \"Locations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value.toLowerCase()),\n        placeholder: \"Gyarados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !searchTerm.length,\n        onClick: e => {\n          e.preventDefault();\n          if (searchTerm.length >= 1) {\n            setUrl(`${searchType}${searchTerm}/`);\n            console.log(url);\n          }\n        },\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"An error has occured: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }, this), isSuccess && searchResults.map(val => /*#__PURE__*/_jsxDEV(ResponseDisplay, {\n      ...val,\n      // url={val.url}\n      // title={val.title}\n      // gif_id={val.gif_id}\n      addFavorite: () => addFavorite({\n        pokemon: val.abilities,\n        pokemon_forms: val.forms,\n        pokemon_game_indices: val.game_indices,\n        pokemon_moves: val.moves,\n        pokemon_species: val.species,\n        pokemon_sprites: val.sprites,\n        pokemon_stats: val.stats,\n        pokemon_types: val.types\n      }),\n      removeFavorite: removeFavorite,\n      isFavorite: favorites.some(fav => fav.pokemon === val.pokemon)\n    }, val.gif_id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchPage, \"3OcTC653aOtm2QckiRi9So0X1fA=\", false, function () {\n  return [useSearchContext, useFavoritesContext, useQuery];\n});\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useEffect","useState","getResponse","useQuery","useSearchContext","useFavoritesContext","ResponseDisplay","jsxDEV","_jsxDEV","SearchPage","_s","searchType","setSearchType","searchTerm","setSearchTerm","url","setUrl","searchResults","setSearchResults","favorites","addFavorite","removeFavorite","baseUrl","console","log","isLoading","error","isSuccess","enabled","onSuccess","data","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","type","toLowerCase","placeholder","disabled","length","onClick","preventDefault","message","map","val","pokemon","abilities","pokemon_forms","forms","pokemon_game_indices","game_indices","pokemon_moves","moves","pokemon_species","species","pokemon_sprites","sprites","pokemon_stats","stats","pokemon_types","types","isFavorite","some","fav","gif_id","_c","$RefreshReg$"],"sources":["C:/Users/luce/Documents/PokemonApp/my-app/src/components/SearchPage.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport getResponse from '../functions/getResponse.js';\r\nimport { useQuery } from 'react-query';\r\nimport { useSearchContext } from '../context/SearchContext.jsx';\r\nimport { useFavoritesContext } from '../context/FavoritesContext.jsx';\r\nimport ResponseDisplay from \"../components/ResponseDisplay.jsx\"\r\n\r\n\r\n\r\n// const baseUrl = \"https://api.giphy.com/v1/gifs/search?api_key=${process.env.GIPHY_API_KEY}&limit=25\";\r\n// const url = \"https://api.giphy.com/v1/gifs/search?api_key=QLjcxO7Hoya1ek7UtqSc0FH0wabj5zVD&q=&limit=25&offset=0&rating=g&lang=en\"\r\n\r\nconst SearchPage = () => {\r\n  // This hook uses state management AND hooks\r\n  const [searchType, setSearchType] = useState('pokemon/');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [url, setUrl] = useState(null);\r\n  const { searchResults, setSearchResults } = useSearchContext();\r\n  const {favorites, addFavorite, removeFavorite } = useFavoritesContext();\r\n\r\n  const baseUrl = `https://pokeapi.co/api/v2/`;\r\n\r\n  useEffect(() => {\r\n    console.log(url);\r\n  }, [url])\r\n\r\nconst { isLoading, error, isSuccess } = useQuery([\"getResponse\", url], ()  => getResponse(url), {\r\n  enabled: !!url,\r\n\r\n  onSuccess: (data) => setSearchResults(data),\r\n})\r\n\r\n  return (\r\n    <div>\r\n    <h1>Search Page</h1>\r\n    <form>\r\n    <label>Search for Everything Pokemon</label>\r\n    <select data-testid = \"searchType\"\r\n  value= {searchType}\r\n  onChange={(e) => setSearchType(e.target.value)}\r\n  >\r\n    <option value='pokemon/'>Pokemon</option>\r\n    <option value='type/'>Type</option>\r\n    <option value='ability/'>Ability</option>\r\n    <option value='item/'>Items</option>\r\n    <option value='move/'>Moves</option>\r\n    <option value='location/'>Locations</option>\r\n  </select>\r\n    <input\r\n    type=\"text\"\r\n    value={searchTerm}\r\n    onChange={(e) => setSearchTerm(e.target.value.toLowerCase())}\r\n    placeholder=\"Gyarados\"\r\n  />\r\n \r\n  <button \r\n  disabled={!searchTerm.length}\r\n  onClick={(e) => {\r\n    e.preventDefault();\r\n    if(searchTerm.length >= 1 ) {\r\n      setUrl(`${searchType}${searchTerm}/`);\r\n      console.log(url);\r\n    }\r\n    }}\r\n    >\r\n  Search</button>\r\n    </form>\r\n    {isLoading && <p>Loading...</p>}\r\n    {error && <p>An error has occured: {error.message}</p>}\r\n    {isSuccess && \r\n    searchResults.map((val) => (\r\n      <ResponseDisplay \r\n      key={val.gif_id}\r\n      {...val}\r\n      // url={val.url}\r\n      // title={val.title}\r\n      // gif_id={val.gif_id}\r\n      addFavorite={() => addFavorite( { pokemon: val.abilities,\r\n        pokemon_forms: val.forms,\r\n        pokemon_game_indices: val.game_indices,\r\n        pokemon_moves: val.moves,\r\n        pokemon_species: val.species,\r\n        pokemon_sprites: val.sprites,\r\n        pokemon_stats: val.stats,\r\n        pokemon_types: val.types,} )}\r\n      removeFavorite={removeFavorite}\r\n      isFavorite={favorites.some((fav) => fav.pokemon === val.pokemon)}\r\n      />\r\n    ))\r\n    }\r\n\r\n\r\n </div>\r\n  )\r\n\r\n}\r\nexport default SearchPage;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}